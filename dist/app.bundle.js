!function(Q){var I={};function C(g){if(I[g])return I[g].exports;var F=I[g]={i:g,l:!1,exports:{}};return Q[g].call(F.exports,F,F.exports,C),F.l=!0,F.exports}C.m=Q,C.c=I,C.d=function(Q,I,g){C.o(Q,I)||Object.defineProperty(Q,I,{enumerable:!0,get:g})},C.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},C.t=function(Q,I){if(1&I&&(Q=C(Q)),8&I)return Q;if(4&I&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var g=Object.create(null);if(C.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:Q}),2&I&&"string"!=typeof Q)for(var F in Q)C.d(g,F,function(I){return Q[I]}.bind(null,F));return g},C.n=function(Q){var I=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return C.d(I,"a",I),I},C.o=function(Q,I){return Object.prototype.hasOwnProperty.call(Q,I)},C.p="",C(C.s=0)}([function(Q,I,C){Q.exports=C(3)},,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./js/toDoDB.js\nvar SERVER_URL = 'http://localhost:3005/';\nvar request, toDoDB_db;\n\nfunction getObjectStore() {\n  return toDoDB_db.transaction(['ToDoItems'], 'readwrite').objectStore('ToDoItems');\n}\n\nfunction getAll() {\n  return fetch(SERVER_URL).then(function (response) {\n    return response.json();\n  });\n}\n\nfunction postAll(obj) {\n  return fetch(SERVER_URL, {\n    'method': 'POST',\n    'Content-Type': 'application/json',\n    'body': JSON.stringify(obj)\n  }).then(function (response) {\n    return response.json();\n  }).then(function (items) {\n    navigator.serviceWorker.controller.postMessage('updateScreens');\n    return items;\n  });\n}\n\nvar DB = {\n  // getAll, postAll,\n  start: function start() {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      request = indexedDB.open('toDo', 1);\n\n      request.onsuccess = function (event) {\n        toDoDB_db = request.result;\n        resolve(_this);\n      };\n\n      request.onupgradeneeded = function (event) {\n        toDoDB_db = event.target.result;\n        toDoDB_db.createObjectStore('ToDoItems', {\n          keyPath: 'id'\n        });\n      };\n    });\n  },\n\n  get request() {\n    return request;\n  },\n\n  get db() {\n    return toDoDB_db;\n  },\n\n  selectedItem: {},\n  find: function find(id) {\n    var _this2 = this;\n\n    return new Promise(function (resolve) {\n      var request = getObjectStore().get(+id);\n\n      request.onsuccess = function (event) {\n        _this2.selectedItem = request.result;\n        resolve(request.result);\n      };\n    });\n  },\n  findAll: function findAll() {\n    var location = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'server';\n    return new Promise(function (resolve) {\n      var request = getObjectStore().getAll();\n\n      request.onsuccess = function (event) {\n        resolve(request.result);\n      };\n    });\n  },\n  insert: function insert(item) {\n    var _this3 = this;\n\n    return new Promise(function (resolve) {\n      item.id = new Date().getTime();\n      item.isChecked = false;\n      var request = getObjectStore().add(item);\n\n      request.onsuccess = function (event) {\n        resolve(_this3.findAll()); // navigator.serviceWorker.ready.then(function(registration){\n        //     return registration.sync.register('newItem');\n        // })\n      };\n    });\n  },\n  update: function update(item) {\n    var _this4 = this;\n\n    return new Promise(function (resolve) {\n      var updatedItem = Object.assign(_this4.selectedItem, item);\n      var request = getObjectStore().put(updatedItem);\n\n      request.onsuccess = function (event) {\n        resolve(_this4.findAll());\n      };\n    });\n  },\n  remove: function remove(id) {\n    var _this5 = this;\n\n    return new Promise(function (resolve) {\n      var request = getObjectStore().delete(id);\n\n      request.onsuccess = function (event) {\n        resolve(_this5.findAll());\n      };\n    });\n  },\n  checkAll: function checkAll() {\n    var _this6 = this;\n\n    var isChecked = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var isAllUpdated = false,\n        isUpdated = false;\n    return new Promise(function (resolve) {\n      getObjectStore().openCursor().onsuccess = function (event) {\n        var cursor = event.target.result;\n\n        if (cursor) {\n          isUpdated = false;\n          var newData = cursor.value;\n          newData.isChecked = isChecked;\n          var request = cursor.update(newData);\n\n          request.onsuccess = function () {\n            isUpdated = true;\n\n            if (isAllUpdated && isUpdated) {\n              resolve(_this6.findAll());\n            }\n          };\n\n          cursor.continue();\n        } else {\n          isAllUpdated = true;\n\n          if (isAllUpdated && isUpdated) {\n            resolve(_this6.findAll());\n          }\n        }\n      };\n    });\n  },\n  clearAll: function clearAll() {\n    var _this7 = this;\n\n    var isAllRemoved = false,\n        isRemoved = false;\n    return new Promise(function (resolve) {\n      getObjectStore().openCursor().onsuccess = function (event) {\n        var cursor = event.target.result;\n\n        if (cursor) {\n          isRemoved = false;\n\n          if (cursor.value.isChecked) {\n            var request = cursor.delete();\n\n            request.onsuccess = function () {\n              isRemoved = true;\n\n              if (isAllRemoved && isRemoved) {\n                resolve(_this7.findAll());\n              }\n            };\n          } else {\n            isRemoved = true;\n          }\n\n          cursor.continue();\n        } else {\n          isAllRemoved = true;\n\n          if (isAllRemoved && isRemoved) {\n            resolve(_this7.findAll());\n          }\n        }\n      };\n    });\n  }\n};\n// CONCATENATED MODULE: ./js/toDoTemplate.js\nvar Template = {\n  toDoList: function toDoList(itemList) {\n    var listElement = document.querySelector('.todo-list');\n    var template = '';\n    itemList.forEach(function (item) {\n      var backgroundImage = !item.image ? '' : \"style=\\\"background-image: url('\".concat(item.image, \"');\\\"\");\n      var checkbox = item.isChecked ? 'check_box' : 'check_box_outline_blank';\n      template += \"<li class=\\\"todo-list-item\\\">\\n\\t\\t\\t                <div class=\\\"demo-card-wide mdl-card mdl-shadow--2dp\\\" \".concat(backgroundImage, \" >\\n\\t\\t\\t                    <div class=\\\"card-content-container\\\" >  \\n\\t\\t\\t                      <div class=\\\"mdl-card__title\\\">\\n\\t\\t\\t                        <h2 class=\\\"mdl-card__title-text\\\">\").concat(item.title, \"</h2>\\n\\t\\t\\t                      </div>\\n\\t\\t\\t                      <div class=\\\"mdl-card__supporting-text\\\">\\n\\t\\t\\t                        \").concat(item.description, \"\\n\\t\\t\\t                      </div>\\n\\t\\t\\t                      <div class=\\\"mdl-card__menu\\\">\\n\\t\\t\\t                        <button class=\\\"mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect\\\" data-item=\\\"\").concat(item.id, \"\\\" data-action=\\\"open\\\" >\\n\\t\\t\\t                          <i class=\\\"material-icons\\\">edit</i>\\n\\t\\t\\t                        </button>\\n\\t\\t\\t                        <button class=\\\"mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect\\\" data-item=\\\"\").concat(item.id, \"\\\" data-action=\\\"check\\\" >\\n\\t\\t\\t                          <i class=\\\"material-icons\\\">\").concat(checkbox, \"</i>\\n\\t\\t\\t                        </button>\\n\\t\\t\\t                      </div>\\n\\t\\t\\t                    </div>\\n\\t\\t\\t                </div>\\n\\t\\t\\t            </li>\");\n    });\n    listElement.innerHTML = template;\n    return template;\n  }\n};\n// CONCATENATED MODULE: ./js/camera.js\nvar videoElement,\n    stream,\n    videoDevices = [],\n    selectedDeviceIndex = 0;\nnavigator.mediaDevices.enumerateDevices().then(function (devices) {\n  devices.forEach(function (device) {\n    if (device.kind === 'videoinput') {\n      videoDevices.push(device.deviceId);\n    }\n  });\n});\nvar Camera = {\n  start: function start() {\n    this.stop();\n\n    if (videoDevices.length) {\n      videoElement = document.getElementById('camera-tag');\n      navigator.mediaDevices.getUserMedia({\n        video: {\n          width: 230,\n          height: 200,\n          deviceIdId: {\n            exact: videoDevices[selectedDeviceIndex]\n          }\n        }\n      }).then(function (localMediaStream) {\n        stream = localMediaStream;\n        videoElement.src = window.URL.createObjectURL(stream);\n        videoElement.play();\n      });\n    }\n  },\n  stop: function stop() {\n    if (stream) {\n      videoElement = '';\n      stream.getVideoTracks()[0].stop();\n      stream = null;\n    }\n  },\n  shoot: function shoot() {\n    if (stream) {\n      var canvas = document.createElement('canvas'),\n          ctx = canvas.getContext('2d');\n      canvas.width = 230;\n      canvas.height = 200;\n      ctx.drawImage(videoElement, 0, 0, 230, 200);\n      var image = canvas.toDataURL('image/webp');\n      return image;\n    }\n\n    return false;\n  },\n  changeSource: function changeSource() {\n    if (stream && videoDevices.length > 1) {\n      selectedDeviceIndex++;\n\n      if (selectedDeviceIndex === videoDevices.length) {\n        selectedDeviceIndex = 0;\n      }\n\n      this.start();\n    }\n  }\n};\n// CONCATENATED MODULE: ./js/toDoController.js\n\n\n\nvar Controller = {\n  start: function start() {\n    var _this = this;\n\n    document.addEventListener('click', function (event) {\n      if (event.target.classList.contains('mdl-button__ripple-container') || event.target.classList.contains('material-icons')) {\n        var button = event.target.parentElement;\n\n        switch (button.dataset['action']) {\n          case 'open':\n            _this.Modal.item.open(button.dataset['item']);\n\n            break;\n\n          case 'close':\n            _this.Modal.item.close();\n\n            break;\n\n          case 'check':\n            _this.Modal.item.check(button.dataset['item']);\n\n            break;\n\n          case 'save':\n            _this.Modal.item.save();\n\n            break;\n\n          case 'startCamera':\n            _this.Modal.camera.open();\n\n            break;\n\n          case 'stopCamera':\n            _this.Modal.camera.close();\n\n            break;\n\n          case 'shoot':\n            _this.Modal.camera.shoot();\n\n            break;\n\n          case 'changeSource':\n            _this.Modal.camera.changeSource();\n\n            break;\n        }\n      } else if (event.target.classList.contains('mdl-navigation__link')) {\n        var button = event.target;\n\n        switch (button.dataset['action']) {\n          case 'newItem':\n            _this.Menu.newItem();\n\n            break;\n\n          case 'checkAll':\n            _this.Menu.checkAll();\n\n            break;\n\n          case 'uncheckAll':\n            _this.Menu.uncheckAll();\n\n            break;\n\n          case 'clearAll':\n            _this.Menu.clearAll();\n\n            break;\n        }\n      }\n    });\n  },\n  Modal: {\n    item: {\n      modal: document.querySelector('#item-dialog'),\n      selectedItemId: null,\n      open: function open(itemId) {\n        var dialog = this.modal;\n        dialog.querySelector('.close').addEventListener('click', this.close);\n        dialog.showModal();\n        this.setItem(itemId);\n        this.selectedItemId = itemId;\n      },\n      close: function close() {\n        var that = Controller.Modal.item;\n        var dialog = that.modal;\n        dialog.querySelector('.close').removeEventListener('click', that.close);\n        dialog.hasAttribute('open') && dialog.close();\n      },\n      setItem: function setItem(itemId) {\n        var form = this.getElements();\n\n        if (!itemId) {\n          form.img.src = '';\n          form.title.value = '';\n          form.description.value = '';\n        } else {\n          DB.find(itemId).then(function (item) {\n            form.img.src = item.image || '';\n            form.title.value = item.title;\n            form.description.value = item.description;\n          });\n        }\n      },\n      check: function check(itemId) {\n        var _this2 = this;\n\n        this.selectedItemId = itemId;\n        DB.find(itemId).then(function (item) {\n          item.isChecked = !item.isChecked;\n\n          _this2.save(item);\n        });\n      },\n      save: function save(item) {\n        var _this3 = this;\n\n        var itemValues = item || this.getItemValues();\n        (this.selectedItemId ? DB.update(itemValues) : DB.insert(itemValues)).then(function (itemsList) {\n          Template.toDoList(itemsList);\n\n          _this3.close();\n        });\n      },\n      getElements: function getElements() {\n        var dialog = this.modal;\n        var img = dialog.querySelector('#item-dialog-picture'),\n            title = dialog.querySelector('#title'),\n            description = dialog.querySelector('#description');\n        return {\n          img: img,\n          title: title,\n          description: description\n        };\n      },\n      getItemValues: function getItemValues() {\n        var form = this.getElements();\n        return {\n          title: form.title.value,\n          description: form.description.value,\n          image: form.img.getAttribute('src')\n        };\n      }\n    },\n    camera: {\n      modal: document.querySelector('#camera-dialog'),\n      open: function open() {\n        var dialog = this.modal;\n        dialog.querySelector('.close').addEventListener('click', this.close);\n        dialog.showModal();\n        Camera.start();\n      },\n      close: function close() {\n        var that = Controller.Modal.camera;\n        var dialog = that.modal;\n        dialog.querySelector('.close').removeEventListener('click', that.close);\n        dialog.hasAttribute('open') && dialog.close();\n        Camera.stop();\n      },\n      shoot: function shoot() {\n        var image = Camera.shoot();\n\n        if (image) {\n          Controller.Modal.item.getElements().img.src = image;\n          this.close();\n        }\n      },\n      changeSource: function changeSource() {\n        Camera.changeSource();\n      }\n    }\n  },\n  Menu: {\n    newItem: function newItem() {\n      Controller.Modal.item.open();\n      this.closeMenu();\n    },\n    checkAll: function checkAll() {\n      DB.checkAll(true).then(function (itemsList) {\n        Template.toDoList(itemsList);\n      });\n    },\n    uncheckAll: function uncheckAll() {\n      DB.checkAll(false).then(function (itemsList) {\n        Template.toDoList(itemsList);\n      });\n    },\n    clearAll: function clearAll() {\n      DB.clearAll().then(function (itemsList) {\n        Template.toDoList(itemsList);\n      });\n      this.closeMenu();\n    },\n    closeMenu: function closeMenu() {\n      document.querySelector('.mdl-layout__obfuscator').click();\n    }\n  }\n};\n// CONCATENATED MODULE: ./js/toDoNotification.js\nvar PUBLIC_KEY = \"BBZejeSiAno7068TAxztOSUED83OOUO9N1BZIVjYeJ79sXbPvKUUA1sm0D2MzO4c4iii0ettoAkOjHgXwpvaa1w\";\n\nfunction urlBase64ToUint8Array(base64String) {\n  var padding = \"=\".repeat((4 - base64String.length % 4) % 4);\n  var base64 = (base64String + padding).replace(/\\-/g, \"+\").replace(/_/g, \"/\");\n  var rawData = window.atob(base64);\n  var outputArray = new Uint8Array(rawData.length);\n\n  for (var i = 0; i < rawData.length; ++i) {\n    outputArray[i] = rawData.charCodeAt(i);\n  }\n\n  return outputArray;\n}\n\nvar ToDoNotification = {\n  subscribeUserToNotification: function subscribeUserToNotification() {\n    Notification.requestPermission().then(function (permission) {\n      if (permission === 'granted') {\n        var subscribeOptions = {\n          userVisibleOnly: true,\n          applicationServerKey: urlBase64ToUint8Array(PUBLIC_KEY)\n        };\n        navigator.serviceWorker.ready.then(function (registration) {\n          return registration.pushManager.subscribe(subscribeOptions);\n        }).then(function (subscription) {\n          return fetch('http://localhost:3006', {\n            'method': 'POST',\n            'Content-Type': 'application/json',\n            'body': JSON.stringify(subscription)\n          });\n        });\n      }\n    });\n  }\n};\n// CONCATENATED MODULE: ./js/app.js\n\n\n\n\n\nif ('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('../dist/service_worker.js').then(function (registration) {\n    console.log('Service Worker registered with scope: ', registration.scope);\n    ToDoNotification.subscribeUserToNotification();\n  }).catch(function (err) {\n    console.log('Service Worker registration failed: ', err);\n  });\n}\n\nDB.start().then(function (db) {\n  db.findAll().then(function (itemsList) {\n    return Template.toDoList(itemsList);\n  });\n});\nController.start();\nnavigator.serviceWorker.addEventListener('message', function (event) {\n  if (event.data === 'updateScreens') {\n    DB.findAll().then(function (itemsList) {\n      return Template.toDoList(itemsList);\n    });\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy90b0RvREIuanM/ZjVlYyIsIndlYnBhY2s6Ly8vLi9qcy90b0RvVGVtcGxhdGUuanM/ZWFkOCIsIndlYnBhY2s6Ly8vLi9qcy9jYW1lcmEuanM/YzgwNCIsIndlYnBhY2s6Ly8vLi9qcy90b0RvQ29udHJvbGxlci5qcz9hNjMzIiwid2VicGFjazovLy8uL2pzL3RvRG9Ob3RpZmljYXRpb24uanM/MWExNiIsIndlYnBhY2s6Ly8vLi9qcy9hcHAuanM/NzQ3MyJdLCJuYW1lcyI6WyJTRVJWRVJfVVJMIiwicmVxdWVzdCIsImRiIiwiZ2V0T2JqZWN0U3RvcmUiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwiZ2V0QWxsIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwicG9zdEFsbCIsIm9iaiIsIkpTT04iLCJzdHJpbmdpZnkiLCJpdGVtcyIsIm5hdmlnYXRvciIsInNlcnZpY2VXb3JrZXIiLCJjb250cm9sbGVyIiwicG9zdE1lc3NhZ2UiLCJEQiIsInN0YXJ0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJpbmRleGVkREIiLCJvcGVuIiwib25zdWNjZXNzIiwiZXZlbnQiLCJyZXN1bHQiLCJvbnVwZ3JhZGVuZWVkZWQiLCJ0YXJnZXQiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJzZWxlY3RlZEl0ZW0iLCJmaW5kIiwiaWQiLCJnZXQiLCJmaW5kQWxsIiwibG9jYXRpb24iLCJpbnNlcnQiLCJpdGVtIiwiRGF0ZSIsImdldFRpbWUiLCJpc0NoZWNrZWQiLCJhZGQiLCJ1cGRhdGUiLCJ1cGRhdGVkSXRlbSIsIk9iamVjdCIsImFzc2lnbiIsInB1dCIsInJlbW92ZSIsImRlbGV0ZSIsImNoZWNrQWxsIiwiaXNBbGxVcGRhdGVkIiwiaXNVcGRhdGVkIiwib3BlbkN1cnNvciIsImN1cnNvciIsIm5ld0RhdGEiLCJ2YWx1ZSIsImNvbnRpbnVlIiwiY2xlYXJBbGwiLCJpc0FsbFJlbW92ZWQiLCJpc1JlbW92ZWQiLCJUZW1wbGF0ZSIsInRvRG9MaXN0IiwiaXRlbUxpc3QiLCJsaXN0RWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRlbXBsYXRlIiwiZm9yRWFjaCIsImJhY2tncm91bmRJbWFnZSIsImltYWdlIiwiY2hlY2tib3giLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiaW5uZXJIVE1MIiwidmlkZW9FbGVtZW50Iiwic3RyZWFtIiwidmlkZW9EZXZpY2VzIiwic2VsZWN0ZWREZXZpY2VJbmRleCIsIm1lZGlhRGV2aWNlcyIsImVudW1lcmF0ZURldmljZXMiLCJkZXZpY2VzIiwiZGV2aWNlIiwia2luZCIsInB1c2giLCJkZXZpY2VJZCIsIkNhbWVyYSIsInN0b3AiLCJsZW5ndGgiLCJnZXRFbGVtZW50QnlJZCIsImdldFVzZXJNZWRpYSIsInZpZGVvIiwid2lkdGgiLCJoZWlnaHQiLCJkZXZpY2VJZElkIiwiZXhhY3QiLCJsb2NhbE1lZGlhU3RyZWFtIiwic3JjIiwid2luZG93IiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicGxheSIsImdldFZpZGVvVHJhY2tzIiwic2hvb3QiLCJjYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsInRvRGF0YVVSTCIsImNoYW5nZVNvdXJjZSIsIkNvbnRyb2xsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJidXR0b24iLCJwYXJlbnRFbGVtZW50IiwiZGF0YXNldCIsIk1vZGFsIiwiY2xvc2UiLCJjaGVjayIsInNhdmUiLCJjYW1lcmEiLCJNZW51IiwibmV3SXRlbSIsInVuY2hlY2tBbGwiLCJtb2RhbCIsInNlbGVjdGVkSXRlbUlkIiwiaXRlbUlkIiwiZGlhbG9nIiwic2hvd01vZGFsIiwic2V0SXRlbSIsInRoYXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFzQXR0cmlidXRlIiwiZm9ybSIsImdldEVsZW1lbnRzIiwiaW1nIiwiaXRlbVZhbHVlcyIsImdldEl0ZW1WYWx1ZXMiLCJpdGVtc0xpc3QiLCJnZXRBdHRyaWJ1dGUiLCJjbG9zZU1lbnUiLCJjbGljayIsIlBVQkxJQ19LRVkiLCJ1cmxCYXNlNjRUb1VpbnQ4QXJyYXkiLCJiYXNlNjRTdHJpbmciLCJwYWRkaW5nIiwicmVwZWF0IiwiYmFzZTY0IiwicmVwbGFjZSIsInJhd0RhdGEiLCJhdG9iIiwib3V0cHV0QXJyYXkiLCJVaW50OEFycmF5IiwiaSIsImNoYXJDb2RlQXQiLCJUb0RvTm90aWZpY2F0aW9uIiwic3Vic2NyaWJlVXNlclRvTm90aWZpY2F0aW9uIiwiTm90aWZpY2F0aW9uIiwicmVxdWVzdFBlcm1pc3Npb24iLCJwZXJtaXNzaW9uIiwic3Vic2NyaWJlT3B0aW9ucyIsInVzZXJWaXNpYmxlT25seSIsImFwcGxpY2F0aW9uU2VydmVyS2V5IiwicmVhZHkiLCJyZWdpc3RyYXRpb24iLCJwdXNoTWFuYWdlciIsInN1YnNjcmliZSIsInN1YnNjcmlwdGlvbiIsInJlZ2lzdGVyIiwiY29uc29sZSIsImxvZyIsInNjb3BlIiwiY2F0Y2giLCJlcnIiLCJkYXRhIl0sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFNQSxVQUFVLEdBQUcsd0JBQW5CO0FBRUEsSUFBSUMsT0FBSixFQUNJQyxTQURKOztBQUdBLFNBQVNDLGNBQVQsR0FBeUI7QUFDckIsU0FBT0QsU0FBRSxDQUFDRSxXQUFILENBQWUsQ0FBQyxXQUFELENBQWYsRUFBOEIsV0FBOUIsRUFBMkNDLFdBQTNDLENBQXVELFdBQXZELENBQVA7QUFDSDs7QUFFRCxTQUFTQyxNQUFULEdBQWlCO0FBQ2IsU0FBT0MsS0FBSyxDQUFDUCxVQUFELENBQUwsQ0FBa0JRLElBQWxCLENBQXVCLFVBQUFDLFFBQVE7QUFBQSxXQUFJQSxRQUFRLENBQUNDLElBQVQsRUFBSjtBQUFBLEdBQS9CLENBQVA7QUFDSDs7QUFFRCxTQUFTQyxPQUFULENBQWlCQyxHQUFqQixFQUFxQjtBQUNqQixTQUFPTCxLQUFLLENBQUNQLFVBQUQsRUFBYTtBQUNyQixjQUFVLE1BRFc7QUFFckIsb0JBQWdCLGtCQUZLO0FBR3JCLFlBQVFhLElBQUksQ0FBQ0MsU0FBTCxDQUFlRixHQUFmO0FBSGEsR0FBYixDQUFMLENBS0ZKLElBTEUsQ0FLRyxVQUFBQyxRQUFRO0FBQUEsV0FBSUEsUUFBUSxDQUFDQyxJQUFULEVBQUo7QUFBQSxHQUxYLEVBTUZGLElBTkUsQ0FNRyxVQUFBTyxLQUFLLEVBQUk7QUFDWEMsYUFBUyxDQUFDQyxhQUFWLENBQXdCQyxVQUF4QixDQUFtQ0MsV0FBbkMsQ0FBK0MsZUFBL0M7QUFDQSxXQUFPSixLQUFQO0FBQ0gsR0FURSxDQUFQO0FBVUg7O0FBRU0sSUFBTUssRUFBRSxHQUFHO0FBQ2Q7QUFDQUMsT0FGYyxtQkFFUDtBQUFBOztBQUNILFdBQU8sSUFBSUMsT0FBSixDQUFZLFVBQUFDLE9BQU8sRUFBSTtBQUMxQnRCLGFBQU8sR0FBR3VCLFNBQVMsQ0FBQ0MsSUFBVixDQUFlLE1BQWYsRUFBdUIsQ0FBdkIsQ0FBVjs7QUFDQXhCLGFBQU8sQ0FBQ3lCLFNBQVIsR0FBb0IsVUFBQ0MsS0FBRCxFQUFXO0FBQzNCekIsaUJBQUUsR0FBR0QsT0FBTyxDQUFDMkIsTUFBYjtBQUNBTCxlQUFPLENBQUMsS0FBRCxDQUFQO0FBQ0gsT0FIRDs7QUFLQXRCLGFBQU8sQ0FBQzRCLGVBQVIsR0FBMEIsVUFBQ0YsS0FBRCxFQUFXO0FBQ2pDekIsaUJBQUUsR0FBR3lCLEtBQUssQ0FBQ0csTUFBTixDQUFhRixNQUFsQjtBQUNBMUIsaUJBQUUsQ0FBQzZCLGlCQUFILENBQXFCLFdBQXJCLEVBQWtDO0FBQUVDLGlCQUFPLEVBQUU7QUFBWCxTQUFsQztBQUNILE9BSEQ7QUFJSCxLQVhNLENBQVA7QUFZSCxHQWZhOztBQWdCZCxNQUFJL0IsT0FBSixHQUFhO0FBQUUsV0FBT0EsT0FBUDtBQUFpQixHQWhCbEI7O0FBaUJkLE1BQUlDLEVBQUosR0FBUTtBQUFFLFdBQU9BLFNBQVA7QUFBWSxHQWpCUjs7QUFrQmQrQixjQUFZLEVBQUUsRUFsQkE7QUFtQmRDLE1BbkJjLGdCQW1CVEMsRUFuQlMsRUFtQk47QUFBQTs7QUFDSixXQUFPLElBQUliLE9BQUosQ0FBWSxVQUFBQyxPQUFPLEVBQUk7QUFDMUIsVUFBSXRCLE9BQU8sR0FBR0UsY0FBYyxHQUFHaUMsR0FBakIsQ0FBcUIsQ0FBQ0QsRUFBdEIsQ0FBZDs7QUFDQWxDLGFBQU8sQ0FBQ3lCLFNBQVIsR0FBb0IsVUFBQ0MsS0FBRCxFQUFXO0FBQzNCLGNBQUksQ0FBQ00sWUFBTCxHQUFvQmhDLE9BQU8sQ0FBQzJCLE1BQTVCO0FBQ0FMLGVBQU8sQ0FBQ3RCLE9BQU8sQ0FBQzJCLE1BQVQsQ0FBUDtBQUNILE9BSEQ7QUFJSCxLQU5NLENBQVA7QUFPSCxHQTNCYTtBQTRCZFMsU0E1QmMscUJBNEJjO0FBQUEsUUFBcEJDLFFBQW9CLHVFQUFULFFBQVM7QUFDeEIsV0FBTyxJQUFJaEIsT0FBSixDQUFZLFVBQUFDLE9BQU8sRUFBSTtBQUMxQixVQUFJdEIsT0FBTyxHQUFHRSxjQUFjLEdBQUdHLE1BQWpCLEVBQWQ7O0FBQ0FMLGFBQU8sQ0FBQ3lCLFNBQVIsR0FBb0IsVUFBQ0MsS0FBRCxFQUFXO0FBQzNCSixlQUFPLENBQUN0QixPQUFPLENBQUMyQixNQUFULENBQVA7QUFDSCxPQUZEO0FBR0gsS0FMTSxDQUFQO0FBTUgsR0FuQ2E7QUFvQ2RXLFFBcENjLGtCQW9DUEMsSUFwQ08sRUFvQ0Y7QUFBQTs7QUFDUixXQUFPLElBQUlsQixPQUFKLENBQVksVUFBQUMsT0FBTyxFQUFJO0FBQzFCaUIsVUFBSSxDQUFDTCxFQUFMLEdBQVcsSUFBSU0sSUFBSixFQUFELENBQWFDLE9BQWIsRUFBVjtBQUNBRixVQUFJLENBQUNHLFNBQUwsR0FBaUIsS0FBakI7QUFFQSxVQUFJMUMsT0FBTyxHQUFHRSxjQUFjLEdBQUd5QyxHQUFqQixDQUFxQkosSUFBckIsQ0FBZDs7QUFDQXZDLGFBQU8sQ0FBQ3lCLFNBQVIsR0FBb0IsVUFBQ0MsS0FBRCxFQUFXO0FBQzNCSixlQUFPLENBQUMsTUFBSSxDQUFDYyxPQUFMLEVBQUQsQ0FBUCxDQUQyQixDQUczQjtBQUNBO0FBQ0E7QUFDSCxPQU5EO0FBT0gsS0FaTSxDQUFQO0FBYUgsR0FsRGE7QUFtRGRRLFFBbkRjLGtCQW1EUEwsSUFuRE8sRUFtREY7QUFBQTs7QUFDUixXQUFPLElBQUlsQixPQUFKLENBQVksVUFBQUMsT0FBTyxFQUFJO0FBQzFCLFVBQUl1QixXQUFXLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjLE1BQUksQ0FBQ2YsWUFBbkIsRUFBaUNPLElBQWpDLENBQWxCO0FBQ0EsVUFBSXZDLE9BQU8sR0FBR0UsY0FBYyxHQUFHOEMsR0FBakIsQ0FBcUJILFdBQXJCLENBQWQ7O0FBQ0E3QyxhQUFPLENBQUN5QixTQUFSLEdBQW9CLFVBQUNDLEtBQUQsRUFBVztBQUFFSixlQUFPLENBQUMsTUFBSSxDQUFDYyxPQUFMLEVBQUQsQ0FBUDtBQUF5QixPQUExRDtBQUNILEtBSk0sQ0FBUDtBQUtILEdBekRhO0FBMERkYSxRQTFEYyxrQkEwRFBmLEVBMURPLEVBMERKO0FBQUE7O0FBQ04sV0FBTyxJQUFJYixPQUFKLENBQVksVUFBQUMsT0FBTyxFQUFJO0FBQzFCLFVBQUl0QixPQUFPLEdBQUdFLGNBQWMsR0FBR2dELE1BQWpCLENBQXdCaEIsRUFBeEIsQ0FBZDs7QUFDQWxDLGFBQU8sQ0FBQ3lCLFNBQVIsR0FBb0IsVUFBQ0MsS0FBRCxFQUFXO0FBQUVKLGVBQU8sQ0FBQyxNQUFJLENBQUNjLE9BQUwsRUFBRCxDQUFQO0FBQXlCLE9BQTFEO0FBQ0gsS0FITSxDQUFQO0FBSUgsR0EvRGE7QUFnRWRlLFVBaEVjLHNCQWdFYTtBQUFBOztBQUFBLFFBQWxCVCxTQUFrQix1RUFBTixLQUFNO0FBQ3ZCLFFBQUlVLFlBQVksR0FBRyxLQUFuQjtBQUFBLFFBQ0lDLFNBQVMsR0FBRyxLQURoQjtBQUVBLFdBQU8sSUFBSWhDLE9BQUosQ0FBWSxVQUFBQyxPQUFPLEVBQUk7QUFDMUJwQixvQkFBYyxHQUFHb0QsVUFBakIsR0FBOEI3QixTQUE5QixHQUEwQyxVQUFDQyxLQUFELEVBQVc7QUFDakQsWUFBSTZCLE1BQU0sR0FBRzdCLEtBQUssQ0FBQ0csTUFBTixDQUFhRixNQUExQjs7QUFDQSxZQUFHNEIsTUFBSCxFQUFVO0FBQ05GLG1CQUFTLEdBQUcsS0FBWjtBQUNBLGNBQUlHLE9BQU8sR0FBR0QsTUFBTSxDQUFDRSxLQUFyQjtBQUNBRCxpQkFBTyxDQUFDZCxTQUFSLEdBQW9CQSxTQUFwQjtBQUNBLGNBQUkxQyxPQUFPLEdBQUd1RCxNQUFNLENBQUNYLE1BQVAsQ0FBY1ksT0FBZCxDQUFkOztBQUNBeEQsaUJBQU8sQ0FBQ3lCLFNBQVIsR0FBb0IsWUFBTTtBQUN0QjRCLHFCQUFTLEdBQUcsSUFBWjs7QUFDQSxnQkFBR0QsWUFBWSxJQUFJQyxTQUFuQixFQUE2QjtBQUN6Qi9CLHFCQUFPLENBQUMsTUFBSSxDQUFDYyxPQUFMLEVBQUQsQ0FBUDtBQUNIO0FBQ0osV0FMRDs7QUFNQW1CLGdCQUFNLENBQUNHLFFBQVA7QUFDSCxTQVpELE1BWUs7QUFDRE4sc0JBQVksR0FBRyxJQUFmOztBQUNBLGNBQUdBLFlBQVksSUFBSUMsU0FBbkIsRUFBNkI7QUFDekIvQixtQkFBTyxDQUFDLE1BQUksQ0FBQ2MsT0FBTCxFQUFELENBQVA7QUFDSDtBQUNKO0FBQ0osT0FwQkQ7QUFxQkgsS0F0Qk0sQ0FBUDtBQXVCSCxHQTFGYTtBQTJGZHVCLFVBM0ZjLHNCQTJGSjtBQUFBOztBQUNOLFFBQUlDLFlBQVksR0FBRyxLQUFuQjtBQUFBLFFBQ0lDLFNBQVMsR0FBRyxLQURoQjtBQUVBLFdBQU8sSUFBSXhDLE9BQUosQ0FBWSxVQUFBQyxPQUFPLEVBQUk7QUFDMUJwQixvQkFBYyxHQUFHb0QsVUFBakIsR0FBOEI3QixTQUE5QixHQUEwQyxVQUFDQyxLQUFELEVBQVc7QUFDakQsWUFBSTZCLE1BQU0sR0FBRzdCLEtBQUssQ0FBQ0csTUFBTixDQUFhRixNQUExQjs7QUFDQSxZQUFHNEIsTUFBSCxFQUFVO0FBQ05NLG1CQUFTLEdBQUcsS0FBWjs7QUFDQSxjQUFHTixNQUFNLENBQUNFLEtBQVAsQ0FBYWYsU0FBaEIsRUFBMEI7QUFDdEIsZ0JBQUkxQyxPQUFPLEdBQUd1RCxNQUFNLENBQUNMLE1BQVAsRUFBZDs7QUFDQWxELG1CQUFPLENBQUN5QixTQUFSLEdBQW9CLFlBQU07QUFDdEJvQyx1QkFBUyxHQUFHLElBQVo7O0FBQ0Esa0JBQUdELFlBQVksSUFBSUMsU0FBbkIsRUFBNkI7QUFDekJ2Qyx1QkFBTyxDQUFDLE1BQUksQ0FBQ2MsT0FBTCxFQUFELENBQVA7QUFDSDtBQUNKLGFBTEQ7QUFNSCxXQVJELE1BUUs7QUFDRHlCLHFCQUFTLEdBQUcsSUFBWjtBQUNIOztBQUNETixnQkFBTSxDQUFDRyxRQUFQO0FBQ0gsU0FkRCxNQWNLO0FBQ0RFLHNCQUFZLEdBQUcsSUFBZjs7QUFDQSxjQUFHQSxZQUFZLElBQUlDLFNBQW5CLEVBQTZCO0FBQ3pCdkMsbUJBQU8sQ0FBQyxNQUFJLENBQUNjLE9BQUwsRUFBRCxDQUFQO0FBQ0g7QUFDSjtBQUNKLE9BdEJEO0FBdUJILEtBeEJNLENBQVA7QUF5Qkg7QUF2SGEsQ0FBWCxDOztBQzFCQSxJQUFNMEIsUUFBUSxHQUFHO0FBQ3BCQyxVQURvQixvQkFDWEMsUUFEVyxFQUNGO0FBQ2QsUUFBSUMsV0FBVyxHQUFHQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsWUFBdkIsQ0FBbEI7QUFDQSxRQUFJQyxRQUFRLEdBQUcsRUFBZjtBQUNBSixZQUFRLENBQUNLLE9BQVQsQ0FBaUIsVUFBQTlCLElBQUksRUFBSTtBQUNyQixVQUFJK0IsZUFBZSxHQUFHLENBQUMvQixJQUFJLENBQUNnQyxLQUFOLEdBQWMsRUFBZCw0Q0FBb0RoQyxJQUFJLENBQUNnQyxLQUF6RCxVQUF0QjtBQUNBLFVBQUlDLFFBQVEsR0FBR2pDLElBQUksQ0FBQ0csU0FBTCxHQUFpQixXQUFqQixHQUErQix5QkFBOUM7QUFDQTBCLGNBQVEsMEhBQ3NERSxlQUR0RCxvTkFJMEMvQixJQUFJLENBQUNrQyxLQUovQyw2SkFPU2xDLElBQUksQ0FBQ21DLFdBUGQsME9BVW1HbkMsSUFBSSxDQUFDTCxFQVZ4RyxrUkFhbUdLLElBQUksQ0FBQ0wsRUFieEcscUdBY3FDc0MsUUFkckMsK0tBQVI7QUFvQkgsS0F2QkQ7QUF3QkFQLGVBQVcsQ0FBQ1UsU0FBWixHQUF3QlAsUUFBeEI7QUFDQSxXQUFPQSxRQUFQO0FBQ0g7QUE5Qm1CLENBQWpCLEM7O0FDQVAsSUFBSVEsWUFBSjtBQUFBLElBQ0lDLE1BREo7QUFBQSxJQUVJQyxZQUFZLEdBQUcsRUFGbkI7QUFBQSxJQUdJQyxtQkFBbUIsR0FBRyxDQUgxQjtBQUtBaEUsU0FBUyxDQUFDaUUsWUFBVixDQUF1QkMsZ0JBQXZCLEdBQ0sxRSxJQURMLENBQ1UsVUFBQTJFLE9BQU8sRUFBSTtBQUNiQSxTQUFPLENBQUNiLE9BQVIsQ0FBZ0IsVUFBQWMsTUFBTSxFQUFJO0FBQ3RCLFFBQUdBLE1BQU0sQ0FBQ0MsSUFBUCxLQUFnQixZQUFuQixFQUFnQztBQUM1Qk4sa0JBQVksQ0FBQ08sSUFBYixDQUFrQkYsTUFBTSxDQUFDRyxRQUF6QjtBQUNIO0FBQ0osR0FKRDtBQUtILENBUEw7QUFTTyxJQUFNQyxNQUFNLEdBQUc7QUFDbEJuRSxPQURrQixtQkFDWDtBQUNILFNBQUtvRSxJQUFMOztBQUNBLFFBQUdWLFlBQVksQ0FBQ1csTUFBaEIsRUFBdUI7QUFDbkJiLGtCQUFZLEdBQUdWLFFBQVEsQ0FBQ3dCLGNBQVQsQ0FBd0IsWUFBeEIsQ0FBZjtBQUNBM0UsZUFBUyxDQUFDaUUsWUFBVixDQUF1QlcsWUFBdkIsQ0FDSTtBQUNJQyxhQUFLLEVBQUU7QUFDSEMsZUFBSyxFQUFFLEdBREo7QUFFSEMsZ0JBQU0sRUFBRSxHQUZMO0FBR0hDLG9CQUFVLEVBQUU7QUFBRUMsaUJBQUssRUFBRWxCLFlBQVksQ0FBQ0MsbUJBQUQ7QUFBckI7QUFIVDtBQURYLE9BREosRUFTS3hFLElBVEwsQ0FTVSxVQUFDMEYsZ0JBQUQsRUFBc0I7QUFDeEJwQixjQUFNLEdBQUdvQixnQkFBVDtBQUNBckIsb0JBQVksQ0FBQ3NCLEdBQWIsR0FBbUJDLE1BQU0sQ0FBQ0MsR0FBUCxDQUFXQyxlQUFYLENBQTJCeEIsTUFBM0IsQ0FBbkI7QUFDQUQsb0JBQVksQ0FBQzBCLElBQWI7QUFDSCxPQWJMO0FBY0g7QUFDSixHQXBCaUI7QUFxQmxCZCxNQXJCa0Isa0JBcUJaO0FBQ0YsUUFBR1gsTUFBSCxFQUFVO0FBQ05ELGtCQUFZLEdBQUcsRUFBZjtBQUNBQyxZQUFNLENBQUMwQixjQUFQLEdBQXdCLENBQXhCLEVBQTJCZixJQUEzQjtBQUNBWCxZQUFNLEdBQUcsSUFBVDtBQUNIO0FBQ0osR0EzQmlCO0FBNEJsQjJCLE9BNUJrQixtQkE0Qlg7QUFDSCxRQUFHM0IsTUFBSCxFQUFVO0FBQ04sVUFBSTRCLE1BQU0sR0FBR3ZDLFFBQVEsQ0FBQ3dDLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBYjtBQUFBLFVBQ0lDLEdBQUcsR0FBR0YsTUFBTSxDQUFDRyxVQUFQLENBQWtCLElBQWxCLENBRFY7QUFHQUgsWUFBTSxDQUFDWixLQUFQLEdBQWUsR0FBZjtBQUNBWSxZQUFNLENBQUNYLE1BQVAsR0FBZ0IsR0FBaEI7QUFDQWEsU0FBRyxDQUFDRSxTQUFKLENBQWNqQyxZQUFkLEVBQTRCLENBQTVCLEVBQStCLENBQS9CLEVBQWtDLEdBQWxDLEVBQXVDLEdBQXZDO0FBQ0EsVUFBSUwsS0FBSyxHQUFHa0MsTUFBTSxDQUFDSyxTQUFQLENBQWlCLFlBQWpCLENBQVo7QUFDQSxhQUFPdkMsS0FBUDtBQUNIOztBQUFBLFdBQU8sS0FBUDtBQUNKLEdBdkNpQjtBQXdDbEJ3QyxjQXhDa0IsMEJBd0NKO0FBQ1YsUUFBR2xDLE1BQU0sSUFBSUMsWUFBWSxDQUFDVyxNQUFiLEdBQXNCLENBQW5DLEVBQXFDO0FBQ2pDVix5QkFBbUI7O0FBQ25CLFVBQUdBLG1CQUFtQixLQUFLRCxZQUFZLENBQUNXLE1BQXhDLEVBQStDO0FBQzNDViwyQkFBbUIsR0FBRyxDQUF0QjtBQUNIOztBQUNELFdBQUszRCxLQUFMO0FBQ0g7QUFDSjtBQWhEaUIsQ0FBZixDOztBQ2RQO0FBQ0E7QUFDQTtBQUdPLElBQU00RixVQUFVLEdBQUc7QUFDdEI1RixPQURzQixtQkFDZjtBQUFBOztBQUNIOEMsWUFBUSxDQUFDK0MsZ0JBQVQsQ0FBMEIsT0FBMUIsRUFBbUMsVUFBQ3ZGLEtBQUQsRUFBVTtBQUN6QyxVQUFHQSxLQUFLLENBQUNHLE1BQU4sQ0FBYXFGLFNBQWIsQ0FBdUJDLFFBQXZCLENBQWdDLDhCQUFoQyxLQUFtRXpGLEtBQUssQ0FBQ0csTUFBTixDQUFhcUYsU0FBYixDQUF1QkMsUUFBdkIsQ0FBZ0MsZ0JBQWhDLENBQXRFLEVBQXdIO0FBQ3BILFlBQUlDLE1BQU0sR0FBRzFGLEtBQUssQ0FBQ0csTUFBTixDQUFhd0YsYUFBMUI7O0FBQ0EsZ0JBQU9ELE1BQU0sQ0FBQ0UsT0FBUCxDQUFlLFFBQWYsQ0FBUDtBQUNJLGVBQUssTUFBTDtBQUFhLGlCQUFJLENBQUNDLEtBQUwsQ0FBV2hGLElBQVgsQ0FBZ0JmLElBQWhCLENBQXFCNEYsTUFBTSxDQUFDRSxPQUFQLENBQWUsTUFBZixDQUFyQjs7QUFBOEM7O0FBQzNELGVBQUssT0FBTDtBQUFjLGlCQUFJLENBQUNDLEtBQUwsQ0FBV2hGLElBQVgsQ0FBZ0JpRixLQUFoQjs7QUFBeUI7O0FBQ3ZDLGVBQUssT0FBTDtBQUFjLGlCQUFJLENBQUNELEtBQUwsQ0FBV2hGLElBQVgsQ0FBZ0JrRixLQUFoQixDQUFzQkwsTUFBTSxDQUFDRSxPQUFQLENBQWUsTUFBZixDQUF0Qjs7QUFBK0M7O0FBQzdELGVBQUssTUFBTDtBQUFhLGlCQUFJLENBQUNDLEtBQUwsQ0FBV2hGLElBQVgsQ0FBZ0JtRixJQUFoQjs7QUFBd0I7O0FBQ3JDLGVBQUssYUFBTDtBQUFvQixpQkFBSSxDQUFDSCxLQUFMLENBQVdJLE1BQVgsQ0FBa0JuRyxJQUFsQjs7QUFBMEI7O0FBQzlDLGVBQUssWUFBTDtBQUFtQixpQkFBSSxDQUFDK0YsS0FBTCxDQUFXSSxNQUFYLENBQWtCSCxLQUFsQjs7QUFBMkI7O0FBQzlDLGVBQUssT0FBTDtBQUFjLGlCQUFJLENBQUNELEtBQUwsQ0FBV0ksTUFBWCxDQUFrQm5CLEtBQWxCOztBQUEyQjs7QUFDekMsZUFBSyxjQUFMO0FBQXFCLGlCQUFJLENBQUNlLEtBQUwsQ0FBV0ksTUFBWCxDQUFrQlosWUFBbEI7O0FBQWtDO0FBUjNEO0FBVUgsT0FaRCxNQVlNLElBQUdyRixLQUFLLENBQUNHLE1BQU4sQ0FBYXFGLFNBQWIsQ0FBdUJDLFFBQXZCLENBQWdDLHNCQUFoQyxDQUFILEVBQTJEO0FBQzdELFlBQUlDLE1BQU0sR0FBRzFGLEtBQUssQ0FBQ0csTUFBbkI7O0FBQ0EsZ0JBQU91RixNQUFNLENBQUNFLE9BQVAsQ0FBZSxRQUFmLENBQVA7QUFDSSxlQUFLLFNBQUw7QUFBZ0IsaUJBQUksQ0FBQ00sSUFBTCxDQUFVQyxPQUFWOztBQUFxQjs7QUFDckMsZUFBSyxVQUFMO0FBQWlCLGlCQUFJLENBQUNELElBQUwsQ0FBVXpFLFFBQVY7O0FBQXNCOztBQUN2QyxlQUFLLFlBQUw7QUFBbUIsaUJBQUksQ0FBQ3lFLElBQUwsQ0FBVUUsVUFBVjs7QUFBd0I7O0FBQzNDLGVBQUssVUFBTDtBQUFpQixpQkFBSSxDQUFDRixJQUFMLENBQVVqRSxRQUFWOztBQUFzQjtBQUozQztBQU1IO0FBQ0osS0F0QkQ7QUF1QkgsR0F6QnFCO0FBMEJ0QjRELE9BQUssRUFBRTtBQUNIaEYsUUFBSSxFQUFFO0FBQ0Z3RixXQUFLLEVBQUU3RCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsY0FBdkIsQ0FETDtBQUVGNkQsb0JBQWMsRUFBRSxJQUZkO0FBR0Z4RyxVQUhFLGdCQUdHeUcsTUFISCxFQUdVO0FBQ1IsWUFBSUMsTUFBTSxHQUFHLEtBQUtILEtBQWxCO0FBQ0FHLGNBQU0sQ0FBQy9ELGFBQVAsQ0FBcUIsUUFBckIsRUFBK0I4QyxnQkFBL0IsQ0FBZ0QsT0FBaEQsRUFBeUQsS0FBS08sS0FBOUQ7QUFDQVUsY0FBTSxDQUFDQyxTQUFQO0FBQ0EsYUFBS0MsT0FBTCxDQUFhSCxNQUFiO0FBQ0EsYUFBS0QsY0FBTCxHQUFzQkMsTUFBdEI7QUFDSCxPQVRDO0FBVUZULFdBVkUsbUJBVUs7QUFDSCxZQUFJYSxJQUFJLEdBQUdyQixVQUFVLENBQUNPLEtBQVgsQ0FBaUJoRixJQUE1QjtBQUNBLFlBQUkyRixNQUFNLEdBQUdHLElBQUksQ0FBQ04sS0FBbEI7QUFDQUcsY0FBTSxDQUFDL0QsYUFBUCxDQUFxQixRQUFyQixFQUErQm1FLG1CQUEvQixDQUFtRCxPQUFuRCxFQUE0REQsSUFBSSxDQUFDYixLQUFqRTtBQUNBVSxjQUFNLENBQUNLLFlBQVAsQ0FBb0IsTUFBcEIsS0FBK0JMLE1BQU0sQ0FBQ1YsS0FBUCxFQUEvQjtBQUNILE9BZkM7QUFnQkZZLGFBaEJFLG1CQWdCTUgsTUFoQk4sRUFnQmE7QUFDWCxZQUFJTyxJQUFJLEdBQUcsS0FBS0MsV0FBTCxFQUFYOztBQUNBLFlBQUcsQ0FBQ1IsTUFBSixFQUFXO0FBQ1BPLGNBQUksQ0FBQ0UsR0FBTCxDQUFTeEMsR0FBVCxHQUFlLEVBQWY7QUFDQXNDLGNBQUksQ0FBQy9ELEtBQUwsQ0FBV2hCLEtBQVgsR0FBbUIsRUFBbkI7QUFDQStFLGNBQUksQ0FBQzlELFdBQUwsQ0FBaUJqQixLQUFqQixHQUF5QixFQUF6QjtBQUNILFNBSkQsTUFJSztBQUNEdEMsWUFBRSxDQUFDYyxJQUFILENBQVFnRyxNQUFSLEVBQWdCMUgsSUFBaEIsQ0FBcUIsVUFBQWdDLElBQUksRUFBSTtBQUN6QmlHLGdCQUFJLENBQUNFLEdBQUwsQ0FBU3hDLEdBQVQsR0FBZTNELElBQUksQ0FBQ2dDLEtBQUwsSUFBYyxFQUE3QjtBQUNBaUUsZ0JBQUksQ0FBQy9ELEtBQUwsQ0FBV2hCLEtBQVgsR0FBbUJsQixJQUFJLENBQUNrQyxLQUF4QjtBQUNBK0QsZ0JBQUksQ0FBQzlELFdBQUwsQ0FBaUJqQixLQUFqQixHQUF5QmxCLElBQUksQ0FBQ21DLFdBQTlCO0FBQ0gsV0FKRDtBQUtIO0FBQ0osT0E3QkM7QUE4QkYrQyxXQTlCRSxpQkE4QklRLE1BOUJKLEVBOEJXO0FBQUE7O0FBQ1QsYUFBS0QsY0FBTCxHQUFzQkMsTUFBdEI7QUFDQTlHLFVBQUUsQ0FBQ2MsSUFBSCxDQUFRZ0csTUFBUixFQUFnQjFILElBQWhCLENBQXFCLFVBQUFnQyxJQUFJLEVBQUk7QUFDekJBLGNBQUksQ0FBQ0csU0FBTCxHQUFpQixDQUFDSCxJQUFJLENBQUNHLFNBQXZCOztBQUNBLGdCQUFJLENBQUNnRixJQUFMLENBQVVuRixJQUFWO0FBQ0gsU0FIRDtBQUlILE9BcENDO0FBcUNGbUYsVUFyQ0UsZ0JBcUNHbkYsSUFyQ0gsRUFxQ1E7QUFBQTs7QUFDTixZQUFJb0csVUFBVSxHQUFHcEcsSUFBSSxJQUFJLEtBQUtxRyxhQUFMLEVBQXpCO0FBQ0EsU0FBQyxLQUFLWixjQUFMLEdBQXNCN0csRUFBRSxDQUFDeUIsTUFBSCxDQUFVK0YsVUFBVixDQUF0QixHQUE4Q3hILEVBQUUsQ0FBQ21CLE1BQUgsQ0FBVXFHLFVBQVYsQ0FBL0MsRUFDS3BJLElBREwsQ0FDVSxVQUFBc0ksU0FBUyxFQUFJO0FBQ2YvRSxrQkFBUSxDQUFDQyxRQUFULENBQWtCOEUsU0FBbEI7O0FBQ0EsZ0JBQUksQ0FBQ3JCLEtBQUw7QUFDSCxTQUpMO0FBS0gsT0E1Q0M7QUE2Q0ZpQixpQkE3Q0UseUJBNkNXO0FBQ1QsWUFBSVAsTUFBTSxHQUFHLEtBQUtILEtBQWxCO0FBQ0EsWUFBSVcsR0FBRyxHQUFHUixNQUFNLENBQUMvRCxhQUFQLENBQXFCLHNCQUFyQixDQUFWO0FBQUEsWUFDSU0sS0FBSyxHQUFHeUQsTUFBTSxDQUFDL0QsYUFBUCxDQUFxQixRQUFyQixDQURaO0FBQUEsWUFFSU8sV0FBVyxHQUFHd0QsTUFBTSxDQUFDL0QsYUFBUCxDQUFxQixjQUFyQixDQUZsQjtBQUdBLGVBQU87QUFBQ3VFLGFBQUcsRUFBSEEsR0FBRDtBQUFNakUsZUFBSyxFQUFMQSxLQUFOO0FBQWFDLHFCQUFXLEVBQVhBO0FBQWIsU0FBUDtBQUNILE9BbkRDO0FBb0RGa0UsbUJBcERFLDJCQW9EYTtBQUNYLFlBQUlKLElBQUksR0FBRyxLQUFLQyxXQUFMLEVBQVg7QUFDQSxlQUFPO0FBQUNoRSxlQUFLLEVBQUUrRCxJQUFJLENBQUMvRCxLQUFMLENBQVdoQixLQUFuQjtBQUEwQmlCLHFCQUFXLEVBQUU4RCxJQUFJLENBQUM5RCxXQUFMLENBQWlCakIsS0FBeEQ7QUFBK0RjLGVBQUssRUFBRWlFLElBQUksQ0FBQ0UsR0FBTCxDQUFTSSxZQUFULENBQXNCLEtBQXRCO0FBQXRFLFNBQVA7QUFDSDtBQXZEQyxLQURIO0FBMERIbkIsVUFBTSxFQUFFO0FBQ0pJLFdBQUssRUFBRTdELFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixnQkFBdkIsQ0FESDtBQUVKM0MsVUFGSSxrQkFFRTtBQUNGLFlBQUkwRyxNQUFNLEdBQUcsS0FBS0gsS0FBbEI7QUFDQUcsY0FBTSxDQUFDL0QsYUFBUCxDQUFxQixRQUFyQixFQUErQjhDLGdCQUEvQixDQUFnRCxPQUFoRCxFQUF5RCxLQUFLTyxLQUE5RDtBQUNBVSxjQUFNLENBQUNDLFNBQVA7QUFDQTVDLGNBQU0sQ0FBQ25FLEtBQVA7QUFDSCxPQVBHO0FBUUpvRyxXQVJJLG1CQVFHO0FBQ0gsWUFBSWEsSUFBSSxHQUFHckIsVUFBVSxDQUFDTyxLQUFYLENBQWlCSSxNQUE1QjtBQUNBLFlBQUlPLE1BQU0sR0FBR0csSUFBSSxDQUFDTixLQUFsQjtBQUNBRyxjQUFNLENBQUMvRCxhQUFQLENBQXFCLFFBQXJCLEVBQStCbUUsbUJBQS9CLENBQW1ELE9BQW5ELEVBQTRERCxJQUFJLENBQUNiLEtBQWpFO0FBQ0FVLGNBQU0sQ0FBQ0ssWUFBUCxDQUFvQixNQUFwQixLQUErQkwsTUFBTSxDQUFDVixLQUFQLEVBQS9CO0FBQ0FqQyxjQUFNLENBQUNDLElBQVA7QUFDSCxPQWRHO0FBZUpnQixXQWZJLG1CQWVHO0FBQ0gsWUFBSWpDLEtBQUssR0FBR2dCLE1BQU0sQ0FBQ2lCLEtBQVAsRUFBWjs7QUFDQSxZQUFHakMsS0FBSCxFQUFTO0FBQ0x5QyxvQkFBVSxDQUFDTyxLQUFYLENBQWlCaEYsSUFBakIsQ0FBc0JrRyxXQUF0QixHQUFvQ0MsR0FBcEMsQ0FBd0N4QyxHQUF4QyxHQUE4QzNCLEtBQTlDO0FBQ0EsZUFBS2lELEtBQUw7QUFDSDtBQUNKLE9BckJHO0FBc0JKVCxrQkF0QkksMEJBc0JVO0FBQ1Z4QixjQUFNLENBQUN3QixZQUFQO0FBQ0g7QUF4Qkc7QUExREwsR0ExQmU7QUErR3RCYSxNQUFJLEVBQUU7QUFDRkMsV0FERSxxQkFDTztBQUNMYixnQkFBVSxDQUFDTyxLQUFYLENBQWlCaEYsSUFBakIsQ0FBc0JmLElBQXRCO0FBQ0EsV0FBS3VILFNBQUw7QUFDSCxLQUpDO0FBS0Y1RixZQUxFLHNCQUtRO0FBQ05oQyxRQUFFLENBQUNnQyxRQUFILENBQVksSUFBWixFQUFrQjVDLElBQWxCLENBQXVCLFVBQUFzSSxTQUFTLEVBQUk7QUFDaEMvRSxnQkFBUSxDQUFDQyxRQUFULENBQWtCOEUsU0FBbEI7QUFDSCxPQUZEO0FBR0gsS0FUQztBQVVGZixjQVZFLHdCQVVVO0FBQ1IzRyxRQUFFLENBQUNnQyxRQUFILENBQVksS0FBWixFQUFtQjVDLElBQW5CLENBQXdCLFVBQUFzSSxTQUFTLEVBQUk7QUFDakMvRSxnQkFBUSxDQUFDQyxRQUFULENBQWtCOEUsU0FBbEI7QUFDSCxPQUZEO0FBR0gsS0FkQztBQWVGbEYsWUFmRSxzQkFlUTtBQUNOeEMsUUFBRSxDQUFDd0MsUUFBSCxHQUFjcEQsSUFBZCxDQUFtQixVQUFBc0ksU0FBUyxFQUFJO0FBQzVCL0UsZ0JBQVEsQ0FBQ0MsUUFBVCxDQUFrQjhFLFNBQWxCO0FBQ0gsT0FGRDtBQUdBLFdBQUtFLFNBQUw7QUFDSCxLQXBCQztBQXFCRkEsYUFyQkUsdUJBcUJTO0FBQ1A3RSxjQUFRLENBQUNDLGFBQVQsQ0FBdUIseUJBQXZCLEVBQWtENkUsS0FBbEQ7QUFDSDtBQXZCQztBQS9HZ0IsQ0FBbkIsQzs7QUNMUCxJQUFNQyxVQUFVLEdBQUcseUZBQW5COztBQUVBLFNBQVNDLHFCQUFULENBQStCQyxZQUEvQixFQUE2QztBQUN6QyxNQUFJQyxPQUFPLEdBQUcsSUFBSUMsTUFBSixDQUFXLENBQUMsSUFBSUYsWUFBWSxDQUFDMUQsTUFBYixHQUFzQixDQUEzQixJQUFnQyxDQUEzQyxDQUFkO0FBQ0EsTUFBSTZELE1BQU0sR0FBRyxDQUFDSCxZQUFZLEdBQUdDLE9BQWhCLEVBQXlCRyxPQUF6QixDQUFpQyxLQUFqQyxFQUF3QyxHQUF4QyxFQUE2Q0EsT0FBN0MsQ0FBcUQsSUFBckQsRUFBMkQsR0FBM0QsQ0FBYjtBQUNBLE1BQUlDLE9BQU8sR0FBR3JELE1BQU0sQ0FBQ3NELElBQVAsQ0FBWUgsTUFBWixDQUFkO0FBQ0EsTUFBSUksV0FBVyxHQUFHLElBQUlDLFVBQUosQ0FBZUgsT0FBTyxDQUFDL0QsTUFBdkIsQ0FBbEI7O0FBQ0EsT0FBSyxJQUFJbUUsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0osT0FBTyxDQUFDL0QsTUFBNUIsRUFBb0MsRUFBRW1FLENBQXRDLEVBQXlDO0FBQ3JDRixlQUFXLENBQUNFLENBQUQsQ0FBWCxHQUFpQkosT0FBTyxDQUFDSyxVQUFSLENBQW1CRCxDQUFuQixDQUFqQjtBQUNIOztBQUNELFNBQU9GLFdBQVA7QUFDSDs7QUFFTSxJQUFNSSxnQkFBZ0IsR0FBRztBQUM1QkMsNkJBRDRCLHlDQUNDO0FBQ3pCQyxnQkFBWSxDQUFDQyxpQkFBYixHQUFpQzFKLElBQWpDLENBQXNDLFVBQVMySixVQUFULEVBQW9CO0FBQ3RELFVBQUdBLFVBQVUsS0FBSyxTQUFsQixFQUE0QjtBQUN4QixZQUFJQyxnQkFBZ0IsR0FBRztBQUNuQkMseUJBQWUsRUFBRSxJQURFO0FBRW5CQyw4QkFBb0IsRUFBRW5CLHFCQUFxQixDQUFDRCxVQUFEO0FBRnhCLFNBQXZCO0FBS0FsSSxpQkFBUyxDQUFDQyxhQUFWLENBQXdCc0osS0FBeEIsQ0FDSy9KLElBREwsQ0FDVSxVQUFTZ0ssWUFBVCxFQUFzQjtBQUN4QixpQkFBT0EsWUFBWSxDQUFDQyxXQUFiLENBQXlCQyxTQUF6QixDQUFtQ04sZ0JBQW5DLENBQVA7QUFDSCxTQUhMLEVBSUs1SixJQUpMLENBSVUsVUFBU21LLFlBQVQsRUFBc0I7QUFDeEIsaUJBQU9wSyxLQUFLLENBQUMsdUJBQUQsRUFBMEI7QUFDbEMsc0JBQVUsTUFEd0I7QUFFbEMsNEJBQWdCLGtCQUZrQjtBQUdsQyxvQkFBUU0sSUFBSSxDQUFDQyxTQUFMLENBQWU2SixZQUFmO0FBSDBCLFdBQTFCLENBQVo7QUFLSCxTQVZMO0FBV0g7QUFDSixLQW5CRDtBQW9CSDtBQXRCMkIsQ0FBekIsQzs7QUNiUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFHLG1CQUFtQjNKLFNBQXRCLEVBQWdDO0FBQzVCQSxXQUFTLENBQUNDLGFBQVYsQ0FBd0IySixRQUF4QixDQUFpQywyQkFBakMsRUFDS3BLLElBREwsQ0FDVSxVQUFDZ0ssWUFBRCxFQUFrQjtBQUNwQkssV0FBTyxDQUFDQyxHQUFSLENBQVksd0NBQVosRUFBc0ROLFlBQVksQ0FBQ08sS0FBbkU7QUFDQWhCLG9CQUFnQixDQUFDQywyQkFBakI7QUFDSCxHQUpMLEVBS0tnQixLQUxMLENBS1csVUFBQ0MsR0FBRCxFQUFTO0FBQ1pKLFdBQU8sQ0FBQ0MsR0FBUixDQUFZLHNDQUFaLEVBQW9ERyxHQUFwRDtBQUNILEdBUEw7QUFRSDs7QUFJRDdKLEVBQUUsQ0FBQ0MsS0FBSCxHQUFXYixJQUFYLENBQWdCLFVBQUFOLEVBQUUsRUFBSTtBQUNsQkEsSUFBRSxDQUFDbUMsT0FBSCxHQUFhN0IsSUFBYixDQUFtQixVQUFBc0ksU0FBUztBQUFBLFdBQUkvRSxRQUFRLENBQUNDLFFBQVQsQ0FBa0I4RSxTQUFsQixDQUFKO0FBQUEsR0FBNUI7QUFDSCxDQUZEO0FBSUE3QixVQUFVLENBQUM1RixLQUFYO0FBR0FMLFNBQVMsQ0FBQ0MsYUFBVixDQUF3QmlHLGdCQUF4QixDQUF5QyxTQUF6QyxFQUFvRCxVQUFTdkYsS0FBVCxFQUFlO0FBQy9ELE1BQUdBLEtBQUssQ0FBQ3VKLElBQU4sS0FBZSxlQUFsQixFQUFrQztBQUM5QjlKLE1BQUUsQ0FBQ2lCLE9BQUgsR0FBYTdCLElBQWIsQ0FBbUIsVUFBQXNJLFNBQVM7QUFBQSxhQUFJL0UsUUFBUSxDQUFDQyxRQUFULENBQWtCOEUsU0FBbEIsQ0FBSjtBQUFBLEtBQTVCO0FBQ0g7QUFDSixDQUpEIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTRVJWRVJfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwNS8nO1xyXG5cclxubGV0IHJlcXVlc3QsXHJcbiAgICBkYjtcclxuXHJcbmZ1bmN0aW9uIGdldE9iamVjdFN0b3JlKCl7XHJcbiAgICByZXR1cm4gZGIudHJhbnNhY3Rpb24oWydUb0RvSXRlbXMnXSwgJ3JlYWR3cml0ZScpLm9iamVjdFN0b3JlKCdUb0RvSXRlbXMnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QWxsKCl7XHJcbiAgICByZXR1cm4gZmV0Y2goU0VSVkVSX1VSTCkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwb3N0QWxsKG9iail7XHJcbiAgICByZXR1cm4gZmV0Y2goU0VSVkVSX1VSTCwge1xyXG4gICAgICAgICdtZXRob2QnOiAnUE9TVCcsXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAnYm9keSc6IEpTT04uc3RyaW5naWZ5KG9iailcclxuICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAgIC50aGVuKGl0ZW1zID0+IHtcclxuICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlci5wb3N0TWVzc2FnZSgndXBkYXRlU2NyZWVucycpO1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbXM7XHJcbiAgICAgICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERCID0ge1xyXG4gICAgLy8gZ2V0QWxsLCBwb3N0QWxsLFxyXG4gICAgc3RhcnQoKXtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHJlcXVlc3QgPSBpbmRleGVkREIub3BlbigndG9EbycsIDEpO1xyXG4gICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGIgPSByZXF1ZXN0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkYiA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnVG9Eb0l0ZW1zJywgeyBrZXlQYXRoOiAnaWQnIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBnZXQgcmVxdWVzdCgpeyByZXR1cm4gcmVxdWVzdDsgfSxcclxuICAgIGdldCBkYigpeyByZXR1cm4gZGI7IH0sXHJcbiAgICBzZWxlY3RlZEl0ZW06IHt9LFxyXG4gICAgZmluZChpZCl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKCkuZ2V0KCtpZCk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHJlcXVlc3QucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIGZpbmRBbGwobG9jYXRpb24gPSAnc2VydmVyJyl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKCkuZ2V0QWxsKCk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgaW5zZXJ0KGl0ZW0pe1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgaXRlbS5pZCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIGl0ZW0uaXNDaGVja2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKCkuYWRkKGl0ZW0pO1xyXG4gICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmZpbmRBbGwoKSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWFkeS50aGVuKGZ1bmN0aW9uKHJlZ2lzdHJhdGlvbil7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5zeW5jLnJlZ2lzdGVyKCduZXdJdGVtJyk7XHJcbiAgICAgICAgICAgICAgICAvLyB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICB1cGRhdGUoaXRlbSl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHRoaXMuc2VsZWN0ZWRJdGVtLCBpdGVtKTtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBnZXRPYmplY3RTdG9yZSgpLnB1dCh1cGRhdGVkSXRlbSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7IHJlc29sdmUodGhpcy5maW5kQWxsKCkpIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIHJlbW92ZShpZCl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKCkuZGVsZXRlKGlkKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHsgcmVzb2x2ZSh0aGlzLmZpbmRBbGwoKSkgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgY2hlY2tBbGwoaXNDaGVja2VkID0gZmFsc2Upe1xyXG4gICAgICAgIHZhciBpc0FsbFVwZGF0ZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgaXNVcGRhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBnZXRPYmplY3RTdG9yZSgpLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgaWYoY3Vyc29yKXtcclxuICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RGF0YSA9IGN1cnNvci52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdEYXRhLmlzQ2hlY2tlZCA9IGlzQ2hlY2tlZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGN1cnNvci51cGRhdGUobmV3RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzQWxsVXBkYXRlZCAmJiBpc1VwZGF0ZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmZpbmRBbGwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpc0FsbFVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzQWxsVXBkYXRlZCAmJiBpc1VwZGF0ZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZmluZEFsbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIGNsZWFyQWxsKCl7XHJcbiAgICAgICAgdmFyIGlzQWxsUmVtb3ZlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1JlbW92ZWQgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIGdldE9iamVjdFN0b3JlKCkub3BlbkN1cnNvcigpLm9uc3VjY2VzcyA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICBpZihjdXJzb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGN1cnNvci52YWx1ZS5pc0NoZWNrZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IGN1cnNvci5kZWxldGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JlbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNBbGxSZW1vdmVkICYmIGlzUmVtb3ZlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmZpbmRBbGwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNSZW1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpc0FsbFJlbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzQWxsUmVtb3ZlZCAmJiBpc1JlbW92ZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuZmluZEFsbCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNvbnN0IFRlbXBsYXRlID0ge1xyXG4gICAgdG9Eb0xpc3QoaXRlbUxpc3Qpe1xyXG4gICAgICAgIHZhciBsaXN0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWxpc3QnKTtcclxuICAgICAgICB2YXIgdGVtcGxhdGUgPSAnJztcclxuICAgICAgICBpdGVtTGlzdC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB2YXIgYmFja2dyb3VuZEltYWdlID0gIWl0ZW0uaW1hZ2UgPyAnJyA6IGBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtpdGVtLmltYWdlfScpO1wiYDtcclxuICAgICAgICAgICAgdmFyIGNoZWNrYm94ID0gaXRlbS5pc0NoZWNrZWQgPyAnY2hlY2tfYm94JyA6ICdjaGVja19ib3hfb3V0bGluZV9ibGFuayc7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlICs9IGA8bGkgY2xhc3M9XCJ0b2RvLWxpc3QtaXRlbVwiPlxyXG5cdFx0XHQgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlbW8tY2FyZC13aWRlIG1kbC1jYXJkIG1kbC1zaGFkb3ctLTJkcFwiICR7YmFja2dyb3VuZEltYWdlfSA+XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtY29udGVudC1jb250YWluZXJcIiA+ICBcclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZGwtY2FyZF9fdGl0bGVcIj5cclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwibWRsLWNhcmRfX3RpdGxlLXRleHRcIj4ke2l0ZW0udGl0bGV9PC9oMj5cclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cdFx0XHQgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1kbC1jYXJkX19zdXBwb3J0aW5nLXRleHRcIj5cclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgJHtpdGVtLmRlc2NyaXB0aW9ufVxyXG5cdFx0XHQgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWRsLWNhcmRfX21lbnVcIj5cclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1kbC1idXR0b24gbWRsLWJ1dHRvbi0taWNvbiBtZGwtanMtYnV0dG9uIG1kbC1qcy1yaXBwbGUtZWZmZWN0XCIgZGF0YS1pdGVtPVwiJHtpdGVtLmlkfVwiIGRhdGEtYWN0aW9uPVwib3BlblwiID5cclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZWRpdDwvaT5cclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtZGwtYnV0dG9uIG1kbC1idXR0b24tLWljb24gbWRsLWpzLWJ1dHRvbiBtZGwtanMtcmlwcGxlLWVmZmVjdFwiIGRhdGEtaXRlbT1cIiR7aXRlbS5pZH1cIiBkYXRhLWFjdGlvbj1cImNoZWNrXCIgPlxyXG5cdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj4ke2NoZWNrYm94fTwvaT5cclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHRcdFx0ICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cdFx0XHQgICAgICAgICAgICA8L2xpPmA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdEVsZW1lbnQuaW5uZXJIVE1MID0gdGVtcGxhdGU7XHJcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xyXG4gICAgfVxyXG59IiwibGV0IHZpZGVvRWxlbWVudCxcclxuICAgIHN0cmVhbSxcclxuICAgIHZpZGVvRGV2aWNlcyA9IFtdLFxyXG4gICAgc2VsZWN0ZWREZXZpY2VJbmRleCA9IDA7XHJcblxyXG5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKVxyXG4gICAgLnRoZW4oZGV2aWNlcyA9PiB7XHJcbiAgICAgICAgZGV2aWNlcy5mb3JFYWNoKGRldmljZSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGRldmljZS5raW5kID09PSAndmlkZW9pbnB1dCcpe1xyXG4gICAgICAgICAgICAgICAgdmlkZW9EZXZpY2VzLnB1c2goZGV2aWNlLmRldmljZUlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxuZXhwb3J0IGNvbnN0IENhbWVyYSA9IHtcclxuICAgIHN0YXJ0KCl7XHJcbiAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgaWYodmlkZW9EZXZpY2VzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW1lcmEtdGFnJyk7XHJcbiAgICAgICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyMzAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VJZElkOiB7IGV4YWN0OiB2aWRlb0RldmljZXNbc2VsZWN0ZWREZXZpY2VJbmRleF0gfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKGxvY2FsTWVkaWFTdHJlYW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJlYW0gPSBsb2NhbE1lZGlhU3RyZWFtO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zcmMgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChzdHJlYW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzdG9wKCl7XHJcbiAgICAgICAgaWYoc3RyZWFtKXtcclxuICAgICAgICAgICAgdmlkZW9FbGVtZW50ID0gJyc7XHJcbiAgICAgICAgICAgIHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdLnN0b3AoKTtcclxuICAgICAgICAgICAgc3RyZWFtID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2hvb3QoKXtcclxuICAgICAgICBpZihzdHJlYW0pe1xyXG4gICAgICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyksXHJcbiAgICAgICAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IDIzMDtcclxuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IDIwMDtcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh2aWRlb0VsZW1lbnQsIDAsIDAsIDIzMCwgMjAwKTtcclxuICAgICAgICAgICAgbGV0IGltYWdlID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2Uvd2VicCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2U7XHJcbiAgICAgICAgfXJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcbiAgICBjaGFuZ2VTb3VyY2UoKXtcclxuICAgICAgICBpZihzdHJlYW0gJiYgdmlkZW9EZXZpY2VzLmxlbmd0aCA+IDEpe1xyXG4gICAgICAgICAgICBzZWxlY3RlZERldmljZUluZGV4Kys7XHJcbiAgICAgICAgICAgIGlmKHNlbGVjdGVkRGV2aWNlSW5kZXggPT09IHZpZGVvRGV2aWNlcy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWREZXZpY2VJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFRlbXBsYXRlIH0gZnJvbSAnLi90b0RvVGVtcGxhdGUnO1xyXG5pbXBvcnQgeyBEQiB9IGZyb20gJy4vdG9Eb0RCJztcclxuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSAnLi9jYW1lcmEnO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBDb250cm9sbGVyID0ge1xyXG4gICAgc3RhcnQoKXtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCk9PiB7XHJcbiAgICAgICAgICAgIGlmKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21kbC1idXR0b25fX3JpcHBsZS1jb250YWluZXInKSB8fCBldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYXRlcmlhbC1pY29ucycpKXtcclxuICAgICAgICAgICAgICAgIHZhciBidXR0b24gPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgIHN3aXRjaChidXR0b24uZGF0YXNldFsnYWN0aW9uJ10pe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ29wZW4nOiB0aGlzLk1vZGFsLml0ZW0ub3BlbihidXR0b24uZGF0YXNldFsnaXRlbSddKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2xvc2UnOiB0aGlzLk1vZGFsLml0ZW0uY2xvc2UoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2hlY2snOiB0aGlzLk1vZGFsLml0ZW0uY2hlY2soYnV0dG9uLmRhdGFzZXRbJ2l0ZW0nXSk7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NhdmUnOiB0aGlzLk1vZGFsLml0ZW0uc2F2ZSgpOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzdGFydENhbWVyYSc6IHRoaXMuTW9kYWwuY2FtZXJhLm9wZW4oKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RvcENhbWVyYSc6IHRoaXMuTW9kYWwuY2FtZXJhLmNsb3NlKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Nob290JzogdGhpcy5Nb2RhbC5jYW1lcmEuc2hvb3QoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2hhbmdlU291cmNlJzogdGhpcy5Nb2RhbC5jYW1lcmEuY2hhbmdlU291cmNlKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZSBpZihldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZGwtbmF2aWdhdGlvbl9fbGluaycpKXtcclxuICAgICAgICAgICAgICAgIHZhciBidXR0b24gPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2goYnV0dG9uLmRhdGFzZXRbJ2FjdGlvbiddKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICduZXdJdGVtJzogdGhpcy5NZW51Lm5ld0l0ZW0oKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2hlY2tBbGwnOiB0aGlzLk1lbnUuY2hlY2tBbGwoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndW5jaGVja0FsbCc6IHRoaXMuTWVudS51bmNoZWNrQWxsKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NsZWFyQWxsJzogdGhpcy5NZW51LmNsZWFyQWxsKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBNb2RhbDoge1xyXG4gICAgICAgIGl0ZW06IHtcclxuICAgICAgICAgICAgbW9kYWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpdGVtLWRpYWxvZycpLFxyXG4gICAgICAgICAgICBzZWxlY3RlZEl0ZW1JZDogbnVsbCxcclxuICAgICAgICAgICAgb3BlbihpdGVtSWQpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IHRoaXMubW9kYWw7XHJcbiAgICAgICAgICAgICAgICBkaWFsb2cucXVlcnlTZWxlY3RvcignLmNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTtcclxuICAgICAgICAgICAgICAgIGRpYWxvZy5zaG93TW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXRlbShpdGVtSWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1JZCA9IGl0ZW1JZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2xvc2UoKXtcclxuICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gQ29udHJvbGxlci5Nb2RhbC5pdGVtO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IHRoYXQubW9kYWw7XHJcbiAgICAgICAgICAgICAgICBkaWFsb2cucXVlcnlTZWxlY3RvcignLmNsb3NlJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGF0LmNsb3NlKTtcclxuICAgICAgICAgICAgICAgIGRpYWxvZy5oYXNBdHRyaWJ1dGUoJ29wZW4nKSAmJiBkaWFsb2cuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0SXRlbShpdGVtSWQpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvcm0gPSB0aGlzLmdldEVsZW1lbnRzKCk7XHJcbiAgICAgICAgICAgICAgICBpZighaXRlbUlkKXtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtLmltZy5zcmMgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBmb3JtLnRpdGxlLnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5kZXNjcmlwdGlvbi52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgREIuZmluZChpdGVtSWQpLnRoZW4oaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uaW1nLnNyYyA9IGl0ZW0uaW1hZ2UgfHwgJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0udGl0bGUudmFsdWUgPSBpdGVtLnRpdGxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtLmRlc2NyaXB0aW9uLnZhbHVlID0gaXRlbS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaGVjayhpdGVtSWQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1JZCA9IGl0ZW1JZDtcclxuICAgICAgICAgICAgICAgIERCLmZpbmQoaXRlbUlkKS50aGVuKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uaXNDaGVja2VkID0gIWl0ZW0uaXNDaGVja2VkO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZShpdGVtKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNhdmUoaXRlbSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbVZhbHVlcyA9IGl0ZW0gfHwgdGhpcy5nZXRJdGVtVmFsdWVzKCk7XHJcbiAgICAgICAgICAgICAgICAodGhpcy5zZWxlY3RlZEl0ZW1JZCA/IERCLnVwZGF0ZShpdGVtVmFsdWVzKSA6IERCLmluc2VydChpdGVtVmFsdWVzKSlcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihpdGVtc0xpc3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUZW1wbGF0ZS50b0RvTGlzdChpdGVtc0xpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0RWxlbWVudHMoKXtcclxuICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB0aGlzLm1vZGFsO1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZyA9IGRpYWxvZy5xdWVyeVNlbGVjdG9yKCcjaXRlbS1kaWFsb2ctcGljdHVyZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlID0gZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJyN0aXRsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gZGlhbG9nLnF1ZXJ5U2VsZWN0b3IoJyNkZXNjcmlwdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtpbWcsIHRpdGxlLCBkZXNjcmlwdGlvbn07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldEl0ZW1WYWx1ZXMoKXtcclxuICAgICAgICAgICAgICAgIHZhciBmb3JtID0gdGhpcy5nZXRFbGVtZW50cygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHt0aXRsZTogZm9ybS50aXRsZS52YWx1ZSwgZGVzY3JpcHRpb246IGZvcm0uZGVzY3JpcHRpb24udmFsdWUsIGltYWdlOiBmb3JtLmltZy5nZXRBdHRyaWJ1dGUoJ3NyYycpfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2FtZXJhOiB7XHJcbiAgICAgICAgICAgIG1vZGFsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FtZXJhLWRpYWxvZycpLFxyXG4gICAgICAgICAgICBvcGVuKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlhbG9nID0gdGhpcy5tb2RhbDtcclxuICAgICAgICAgICAgICAgIGRpYWxvZy5xdWVyeVNlbGVjdG9yKCcuY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xyXG4gICAgICAgICAgICAgICAgZGlhbG9nLnNob3dNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgQ2FtZXJhLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNsb3NlKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IENvbnRyb2xsZXIuTW9kYWwuY2FtZXJhO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IHRoYXQubW9kYWw7XHJcbiAgICAgICAgICAgICAgICBkaWFsb2cucXVlcnlTZWxlY3RvcignLmNsb3NlJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGF0LmNsb3NlKTtcclxuICAgICAgICAgICAgICAgIGRpYWxvZy5oYXNBdHRyaWJ1dGUoJ29wZW4nKSAmJiBkaWFsb2cuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIENhbWVyYS5zdG9wKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNob290KCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBDYW1lcmEuc2hvb3QoKTtcclxuICAgICAgICAgICAgICAgIGlmKGltYWdlKXtcclxuICAgICAgICAgICAgICAgICAgICBDb250cm9sbGVyLk1vZGFsLml0ZW0uZ2V0RWxlbWVudHMoKS5pbWcuc3JjID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaGFuZ2VTb3VyY2UoKXtcclxuICAgICAgICAgICAgICAgIENhbWVyYS5jaGFuZ2VTb3VyY2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBNZW51OiB7XHJcbiAgICAgICAgbmV3SXRlbSgpe1xyXG4gICAgICAgICAgICBDb250cm9sbGVyLk1vZGFsLml0ZW0ub3BlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlTWVudSgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hlY2tBbGwoKXtcclxuICAgICAgICAgICAgREIuY2hlY2tBbGwodHJ1ZSkudGhlbihpdGVtc0xpc3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgVGVtcGxhdGUudG9Eb0xpc3QoaXRlbXNMaXN0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVuY2hlY2tBbGwoKXtcclxuICAgICAgICAgICAgREIuY2hlY2tBbGwoZmFsc2UpLnRoZW4oaXRlbXNMaXN0ID0+IHtcclxuICAgICAgICAgICAgICAgIFRlbXBsYXRlLnRvRG9MaXN0KGl0ZW1zTGlzdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbGVhckFsbCgpe1xyXG4gICAgICAgICAgICBEQi5jbGVhckFsbCgpLnRoZW4oaXRlbXNMaXN0ID0+IHtcclxuICAgICAgICAgICAgICAgIFRlbXBsYXRlLnRvRG9MaXN0KGl0ZW1zTGlzdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VNZW51KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbG9zZU1lbnUoKXtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1kbC1sYXlvdXRfX29iZnVzY2F0b3InKS5jbGljaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImNvbnN0IFBVQkxJQ19LRVkgPSBcIkJCWmVqZVNpQW5vNzA2OFRBeHp0T1NVRUQ4M09PVU85TjFCWklWalllSjc5c1hiUHZLVVVBMXNtMEQyTXpPNGM0aWlpMGV0dG9Ba09qSGdYd3B2YWExd1wiO1xyXG5cclxuZnVuY3Rpb24gdXJsQmFzZTY0VG9VaW50OEFycmF5KGJhc2U2NFN0cmluZykge1xyXG4gICAgdmFyIHBhZGRpbmcgPSBcIj1cIi5yZXBlYXQoKDQgLSBiYXNlNjRTdHJpbmcubGVuZ3RoICUgNCkgJSA0KTtcclxuICAgIHZhciBiYXNlNjQgPSAoYmFzZTY0U3RyaW5nICsgcGFkZGluZykucmVwbGFjZSgvXFwtL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKTtcclxuICAgIHZhciByYXdEYXRhID0gd2luZG93LmF0b2IoYmFzZTY0KTtcclxuICAgIHZhciBvdXRwdXRBcnJheSA9IG5ldyBVaW50OEFycmF5KHJhd0RhdGEubGVuZ3RoKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmF3RGF0YS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIG91dHB1dEFycmF5W2ldID0gcmF3RGF0YS5jaGFyQ29kZUF0KGkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dHB1dEFycmF5O1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgVG9Eb05vdGlmaWNhdGlvbiA9IHtcclxuICAgIHN1YnNjcmliZVVzZXJUb05vdGlmaWNhdGlvbigpe1xyXG4gICAgICAgIE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4oZnVuY3Rpb24ocGVybWlzc2lvbil7XHJcbiAgICAgICAgICAgIGlmKHBlcm1pc3Npb24gPT09ICdncmFudGVkJyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3Vic2NyaWJlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyVmlzaWJsZU9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXk6IHVybEJhc2U2NFRvVWludDhBcnJheShQVUJMSUNfS0VZKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5XHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVnaXN0cmF0aW9uKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUoc3Vic2NyaWJlT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihzdWJzY3JpcHRpb24pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwNicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtZXRob2QnOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JvZHknOiBKU09OLnN0cmluZ2lmeShzdWJzY3JpcHRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBEQiB9IGZyb20gJy4vdG9Eb0RCJztcclxuaW1wb3J0IHsgVGVtcGxhdGUgfSBmcm9tICcuL3RvRG9UZW1wbGF0ZSc7XHJcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tICcuL3RvRG9Db250cm9sbGVyJztcclxuaW1wb3J0IHsgVG9Eb05vdGlmaWNhdGlvbiB9IGZyb20gJy4vdG9Eb05vdGlmaWNhdGlvbic7XHJcblxyXG5pZignc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKXtcclxuICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCcuLi9kaXN0L3NlcnZpY2Vfd29ya2VyLmpzJylcclxuICAgICAgICAudGhlbigocmVnaXN0cmF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlIFdvcmtlciByZWdpc3RlcmVkIHdpdGggc2NvcGU6ICcsIHJlZ2lzdHJhdGlvbi5zY29wZSk7XHJcbiAgICAgICAgICAgIFRvRG9Ob3RpZmljYXRpb24uc3Vic2NyaWJlVXNlclRvTm90aWZpY2F0aW9uKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2VydmljZSBXb3JrZXIgcmVnaXN0cmF0aW9uIGZhaWxlZDogJywgZXJyKTtcclxuICAgICAgICB9KVxyXG59XHJcblxyXG5cclxuXHJcbkRCLnN0YXJ0KCkudGhlbihkYiA9PiB7XHJcbiAgICBkYi5maW5kQWxsKCkudGhlbiggaXRlbXNMaXN0ID0+IFRlbXBsYXRlLnRvRG9MaXN0KGl0ZW1zTGlzdCkgKTtcclxufSlcclxuXHJcbkNvbnRyb2xsZXIuc3RhcnQoKTtcclxuXHJcblxyXG5uYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgaWYoZXZlbnQuZGF0YSA9PT0gJ3VwZGF0ZVNjcmVlbnMnKXtcclxuICAgICAgICBEQi5maW5kQWxsKCkudGhlbiggaXRlbXNMaXN0ID0+IFRlbXBsYXRlLnRvRG9MaXN0KGl0ZW1zTGlzdCkgKTtcclxuICAgIH1cclxufSkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n")}]);